<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Valyxis — Stock</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  </head>

  <body>
    <!-- Top Nav -->
    <header class="topbar">
      <a class="brand" href="index.html">
        <div class="brand-logo">
          <img src="assets/valyxis-logo.png" alt="Valyxis" />
        </div>
        <div class="brand-name">Valyxis</div>
      </a>

      <nav class="topnav">
        <a href="dashboard.html">Dashboard</a>
      </nav>
    </header>

    <!-- Page Container -->
    <main class="page">
      <!-- Stock Header Row -->
      <section class="stock-hero">
        <div class="stock-left">
          <!-- Big ticker -->
          <h1 id="ticker" class="ticker-title">—</h1>

          <!-- Company name + sector UNDER ticker -->
          <div class="company-meta">
            <span id="company-name">—</span>
            <span class="dot">•</span>
            <span id="company-sector">—</span>
          </div>
        </div>

        <!-- Price box (top-right) -->
        <div class="stock-right">
          <div id="price" class="hero-price">$—</div>
          <div id="change" class="hero-change">—</div>
        </div>
      </section>

      <!-- Divider -->
      <div class="rule"></div>

      <!-- Timeframes -->
      <section class="timeframe-row">
        <button class="tf-btn active" data-period="1y">1Y</button>
        <button class="tf-btn" data-period="6m">6M</button>
        <button class="tf-btn" data-period="3m">3M</button>
        <button class="tf-btn" data-period="1m">1M</button>
        <button class="tf-btn" data-period="5d">5D</button>
        <button class="tf-btn" data-period="1d">1D</button>
      </section>

      <!-- Chart Area -->
      <section class="chart-wrap">
        <div class="chart-shell">
          <!-- IMPORTANT: chart container ID must be "chart" -->
          <div id="chart" class="chart-area"></div>
        </div>
      </section>

      <!-- Stats Grid (ALL fields included) -->
      <section class="stats-grid">
        <div class="stat">
          <div class="label">Previous Close</div>
          <div class="value" id="prev-close">—</div>
        </div>

        <div class="stat">
          <div class="label">52W High</div>
          <div class="value" id="high-52">—</div>
        </div>

        <div class="stat">
          <div class="label">P/E</div>
          <div class="value" id="pe">—</div>
        </div>

        <div class="stat">
          <div class="label">PEG</div>
          <div class="value" id="peg">—</div>
        </div>

        <div class="stat">
          <div class="label">EPS</div>
          <div class="value" id="eps">—</div>
        </div>

        <div class="stat">
          <div class="label">Dividend</div>
          <div class="value" id="dividend">—</div>
        </div>
      </section>
    </main>

    <!-- Script -->
    <script src="stock.js"></script>
    <script>
      // Ensure ticker in the header is always set visually
      // (doesn't change your logic — just displays the URL ticker immediately)
      const p = new URLSearchParams(window.location.search);
      const t = (p.get("ticker") || "").toUpperCase();
      if (t) document.getElementById("ticker").textContent = t;
    </script>
  </body>
</html>
